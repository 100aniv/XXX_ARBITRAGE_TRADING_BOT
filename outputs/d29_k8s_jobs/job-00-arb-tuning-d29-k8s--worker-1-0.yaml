apiVersion: batch/v1
kind: Job
metadata:
  annotations:
    created_at: '2025-11-16T18:21:45.906585'
    description: Arbitrage tuning job for worker-1
  labels: &id001
    app: arbitrage-tuning
    component: tuning
    env: docker
    mode: paper
    session_id: d29-k8s-demo-session
    worker_id: worker-1
  name: arb-tuning-d29-k8s--worker-1-0
  namespace: trading-bots
spec:
  backoffLimit: 0
  template:
    metadata:
      labels: *id001
    spec:
      containers:
      - args:
        - scripts/run_d24_tuning_session.py
        - --config
        - configs/d23_tuning/advanced_baseline.yaml
        - --iterations
        - '3'
        - --mode
        - paper
        - --env
        - docker
        - --optimizer
        - bayesian
        - --session-id
        - d29-k8s-demo-session
        - --worker-id
        - worker-1
        - --output-csv
        - outputs/d29_k8s_session_worker-1.csv
        command:
        - python
        env:
        - name: APP_ENV
          value: docker
        - name: REDIS_HOST
          value: arbitrage-redis
        - name: REDIS_PORT
          value: '6379'
        - name: SESSION_ID
          value: d29-k8s-demo-session
        - name: WORKER_ID
          value: worker-1
        - name: MODE
          value: paper
        image: your-registry/arbitrage-lite:latest
        name: arb-tuning-d29-k8s--worker-1-0
        resources:
          limits:
            cpu: '1'
            memory: 1Gi
          requests:
            cpu: 500m
            memory: 512Mi
      restartPolicy: Never
