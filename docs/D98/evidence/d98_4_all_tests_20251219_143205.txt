============================= test session starts =============================
platform win32 -- Python 3.14.0, pytest-9.0.2, pluggy-1.6.0 -- C:\work\XXX_ARBITRAGE_TRADING_BOT\abt_bot_env\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\work\XXX_ARBITRAGE_TRADING_BOT
configfile: pytest.ini
plugins: anyio-4.11.0, asyncio-1.3.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 2468 items / 2304 deselected / 164 selected

tests/test_d98_2_integration_readonly.py::TestPreflightReadOnlyEnforcement::test_preflight_environment_forces_readonly_mode PASSED [  0%]
tests/test_d98_2_integration_readonly.py::TestPreflightReadOnlyEnforcement::test_preflight_allows_query_operations PASSED [  1%]
tests/test_d98_2_integration_readonly.py::TestZeroTradingCallsVerification::test_upbit_zero_api_calls_when_readonly PASSED [  1%]
tests/test_d98_2_integration_readonly.py::TestZeroTradingCallsVerification::test_binance_zero_api_calls_when_readonly PASSED [  2%]
tests/test_d98_2_integration_readonly.py::TestZeroTradingCallsVerification::test_paper_exchange_zero_real_orders_when_readonly PASSED [  3%]
tests/test_d98_2_integration_readonly.py::TestMultiExchangeReadOnlyConsistency::test_multiple_exchanges_consistent_readonly_behavior PASSED [  3%]
tests/test_d98_2_integration_readonly.py::TestMultiExchangeReadOnlyConsistency::test_readonly_state_persists_across_function_calls PASSED [  4%]
tests/test_d98_2_integration_readonly.py::TestReadOnlyGuardErrorHandling::test_readonly_error_is_catchable PASSED [  4%]
tests/test_d98_2_integration_readonly.py::TestReadOnlyGuardErrorHandling::test_readonly_error_provides_context PASSED [  5%]
tests/test_d98_2_integration_readonly.py::TestPreflightScriptIntegration::test_preflight_script_sets_readonly_environment PASSED [  6%]
tests/test_d98_2_integration_readonly.py::TestPreflightScriptIntegration::test_preflight_prevents_accidental_live_orders PASSED [  6%]
tests/test_d98_2_integration_readonly.py::TestReadOnlyGuardDefenseLayers::test_defense_layer_1_environment_variable PASSED [  7%]
tests/test_d98_2_integration_readonly.py::TestReadOnlyGuardDefenseLayers::test_defense_layer_2_decorator PASSED [  7%]
tests/test_d98_2_integration_readonly.py::TestReadOnlyGuardDefenseLayers::test_defense_layer_3_exception PASSED [  8%]
tests/test_d98_2_integration_readonly.py::TestReadOnlyGuardDefenseLayers::test_defense_layer_4_live_enabled_secondary PASSED [  9%]
tests/test_d98_2_integration_readonly.py::TestEdgeCases::test_readonly_mode_toggle PASSED [  9%]
tests/test_d98_2_integration_readonly.py::TestEdgeCases::test_invalid_environment_variable_treated_as_true PASSED [ 10%]
tests/test_d98_2_integration_readonly.py::TestEdgeCases::test_empty_environment_variable_treated_as_true PASSED [ 10%]
tests/test_d98_2_live_adapters_readonly.py::TestUpbitSpotReadOnlyGuard::test_upbit_create_order_blocked_when_readonly_true PASSED [ 11%]
tests/test_d98_2_live_adapters_readonly.py::TestUpbitSpotReadOnlyGuard::test_upbit_cancel_order_blocked_when_readonly_true PASSED [ 12%]
tests/test_d98_2_live_adapters_readonly.py::TestUpbitSpotReadOnlyGuard::test_upbit_get_balance_allowed_when_readonly_true PASSED [ 12%]
tests/test_d98_2_live_adapters_readonly.py::TestUpbitSpotReadOnlyGuard::test_upbit_get_orderbook_allowed_when_readonly_true PASSED [ 13%]
tests/test_d98_2_live_adapters_readonly.py::TestUpbitSpotReadOnlyGuard::test_upbit_create_order_allowed_when_readonly_false PASSED [ 14%]
tests/test_d98_2_live_adapters_readonly.py::TestBinanceFuturesReadOnlyGuard::test_binance_create_order_blocked_when_readonly_true PASSED [ 14%]
tests/test_d98_2_live_adapters_readonly.py::TestBinanceFuturesReadOnlyGuard::test_binance_cancel_order_blocked_when_readonly_true PASSED [ 15%]
tests/test_d98_2_live_adapters_readonly.py::TestBinanceFuturesReadOnlyGuard::test_binance_get_balance_allowed_when_readonly_true PASSED [ 15%]
tests/test_d98_2_live_adapters_readonly.py::TestBinanceFuturesReadOnlyGuard::test_binance_get_orderbook_allowed_when_readonly_true PASSED [ 16%]
tests/test_d98_2_live_adapters_readonly.py::TestBinanceFuturesReadOnlyGuard::test_binance_create_order_allowed_when_readonly_false PASSED [ 17%]
tests/test_d98_2_live_adapters_readonly.py::TestLiveAdaptersReadOnlyGuardConsistency::test_all_live_adapters_block_orders_when_readonly_true PASSED [ 17%]
tests/test_d98_2_live_adapters_readonly.py::TestLiveAdaptersReadOnlyGuardConsistency::test_readonly_guard_takes_precedence_over_live_enabled PASSED [ 18%]
tests/test_d98_2_live_adapters_readonly.py::TestLiveAdaptersReadOnlyGuardEnvironment::test_environment_variable_controls_readonly_mode PASSED [ 18%]
tests/test_d98_2_live_adapters_readonly.py::TestLiveAdaptersReadOnlyGuardEnvironment::test_fail_closed_principle PASSED [ 19%]
tests/test_d98_3_executor_guard.py::TestLiveExecutorReadOnlyGuard::test_live_executor_blocks_when_readonly_true PASSED [ 20%]
tests/test_d98_3_executor_guard.py::TestLiveExecutorReadOnlyGuard::test_live_executor_allows_when_readonly_false_dry_run_true PASSED [ 20%]
tests/test_d98_3_executor_guard.py::TestLiveExecutorReadOnlyGuard::test_readonly_guard_precedence_over_dry_run PASSED [ 21%]
tests/test_d98_3_executor_guard.py::TestLiveExecutorReadOnlyGuard::test_multiple_trades_all_blocked_when_readonly_true PASSED [ 21%]
tests/test_d98_3_executor_guard.py::TestUpbitLiveAPIReadOnlyGuard::test_upbit_live_api_place_order_blocks_when_readonly_true PASSED [ 22%]
tests/test_d98_3_executor_guard.py::TestUpbitLiveAPIReadOnlyGuard::test_upbit_live_api_cancel_order_blocks_when_readonly_true PASSED [ 23%]
tests/test_d98_3_executor_guard.py::TestBinanceLiveAPIReadOnlyGuard::test_binance_live_api_place_order_blocks_when_readonly_true PASSED [ 23%]
tests/test_d98_3_executor_guard.py::TestBinanceLiveAPIReadOnlyGuard::test_binance_live_api_cancel_order_blocks_when_readonly_true PASSED [ 24%]
tests/test_d98_3_integration_zero_orders.py::TestLiveExecutorIntegrationZeroOrders::test_full_stack_zero_api_calls_when_readonly_upbit_only PASSED [ 25%]
tests/test_d98_3_integration_zero_orders.py::TestLiveExecutorIntegrationZeroOrders::test_full_stack_zero_api_calls_when_readonly_binance_only PASSED [ 25%]
tests/test_d98_3_integration_zero_orders.py::TestLiveExecutorIntegrationZeroOrders::test_full_stack_zero_api_calls_cross_exchange PASSED [ 26%]
tests/test_d98_3_integration_zero_orders.py::TestLiveExecutorIntegrationZeroOrders::test_defense_in_depth_api_level_fallback PASSED [ 26%]
tests/test_d98_3_integration_zero_orders.py::TestLiveExecutorIntegrationZeroOrders::test_readonly_false_with_dry_run_safe_execution PASSED [ 27%]
tests/test_d98_3_integration_zero_orders.py::TestMultiTradeStressTest::test_100_trades_all_blocked_single_gate PASSED [ 28%]
tests/test_d98_4_integration_settings.py::TestSettingsIntegrationWithLiveKeyGuard::test_paper_mode_with_test_keys_loads_successfully PASSED [ 28%]
tests/test_d98_4_integration_settings.py::TestSettingsIntegrationWithLiveKeyGuard::test_paper_mode_with_live_key_blocks_loading PASSED [ 29%]
tests/test_d98_4_integration_settings.py::TestSettingsIntegrationWithLiveKeyGuard::test_local_dev_with_live_key_blocks_loading PASSED [ 29%]
tests/test_d98_4_integration_settings.py::TestSettingsIntegrationWithLiveKeyGuard::test_live_mode_with_live_enabled_allows_loading PASSED [ 30%]
tests/test_d98_4_integration_settings.py::TestSettingsIntegrationWithLiveKeyGuard::test_live_enabled_true_but_env_paper_blocks PASSED [ 31%]
tests/test_d98_4_integration_settings.py::TestSettingsIntegrationWithLiveKeyGuard::test_local_dev_with_no_keys_loads_successfully PASSED [ 31%]
tests/test_d98_4_integration_settings.py::TestSettingsIntegrationWithLiveKeyGuard::test_paper_mode_with_example_keys_loads_successfully PASSED [ 32%]
tests/test_d98_4_integration_settings.py::TestAccidentalKeyLeakScenarios::test_one_live_key_among_test_keys_blocked PASSED [ 32%]
tests/test_d98_4_integration_settings.py::TestAccidentalKeyLeakScenarios::test_mixed_test_and_live_keys_blocked PASSED [ 33%]
tests/test_d98_4_integration_settings.py::TestCIPipelineScenarios::test_ci_with_wrong_secrets_blocked PASSED [ 34%]
tests/test_d98_4_integration_settings.py::TestCIPipelineScenarios::test_ci_with_correct_test_secrets_allowed PASSED [ 34%]
tests/test_d98_4_integration_settings.py::TestSecretsProviderIntegration::test_secrets_provider_with_live_key_blocked PASSED [ 35%]
tests/test_d98_4_integration_settings.py::TestSecretsProviderIntegration::test_secrets_provider_with_test_key_allowed PASSED [ 35%]
tests/test_d98_4_integration_settings.py::TestLiveKeyGuardLogging::test_live_mode_logs_warning PASSED [ 36%]
tests/test_d98_4_integration_settings.py::TestLiveKeyGuardLogging::test_paper_mode_logs_validation_pass PASSED [ 37%]
tests/test_d98_4_integration_settings.py::TestBackwardCompatibility::test_legacy_code_without_keys_still_works PASSED [ 37%]
tests/test_d98_4_integration_settings.py::TestBackwardCompatibility::test_legacy_dummy_keys_still_allowed PASSED [ 38%]
tests/test_d98_4_integration_settings.py::TestFailClosedPrinciple::test_ambiguous_key_allowed_if_short PASSED [ 39%]
tests/test_d98_4_integration_settings.py::TestFailClosedPrinciple::test_ambiguous_long_key_blocked_fail_closed PASSED [ 39%]
tests/test_d98_4_live_key_guard.py::TestDetectLiveKey::test_empty_key_returns_false PASSED [ 40%]
tests/test_d98_4_live_key_guard.py::TestDetectLiveKey::test_test_pattern_keys_are_safe PASSED [ 40%]
tests/test_d98_4_live_key_guard.py::TestDetectLiveKey::test_real_key_pattern_in_paper_mode_detected PASSED [ 41%]
tests/test_d98_4_live_key_guard.py::TestDetectLiveKey::test_real_key_pattern_in_local_dev_detected PASSED [ 42%]
tests/test_d98_4_live_key_guard.py::TestDetectLiveKey::test_real_key_in_live_mode_not_flagged PASSED [ 42%]
tests/test_d98_4_live_key_guard.py::TestDetectLiveKey::test_short_key_not_flagged PASSED [ 43%]
tests/test_d98_4_live_key_guard.py::TestValidateLiveKeys::test_live_mode_with_live_enabled_allows_all_keys PASSED [ 43%]
tests/test_d98_4_live_key_guard.py::TestValidateLiveKeys::test_paper_mode_with_test_keys_allowed PASSED [ 44%]
tests/test_d98_4_live_key_guard.py::TestValidateLiveKeys::test_paper_mode_with_live_key_blocked PASSED [ 45%]
tests/test_d98_4_live_key_guard.py::TestValidateLiveKeys::test_local_dev_with_live_key_blocked PASSED [ 45%]
tests/test_d98_4_live_key_guard.py::TestValidateLiveKeys::test_live_enabled_true_but_env_not_live_blocked PASSED [ 46%]
tests/test_d98_4_live_key_guard.py::TestValidateLiveKeys::test_empty_keys_allowed_in_all_envs PASSED [ 46%]
tests/test_d98_4_live_key_guard.py::TestValidateLiveKeys::test_multiple_keys_one_suspicious_all_blocked PASSED [ 47%]
tests/test_d98_4_live_key_guard.py::TestIsLiveModeAllowed::test_live_mode_allowed_when_both_flags_set PASSED [ 48%]
tests/test_d98_4_live_key_guard.py::TestIsLiveModeAllowed::test_live_mode_not_allowed_when_live_enabled_false PASSED [ 48%]
tests/test_d98_4_live_key_guard.py::TestIsLiveModeAllowed::test_live_mode_not_allowed_when_env_not_live PASSED [ 49%]
tests/test_d98_4_live_key_guard.py::TestIsLiveModeAllowed::test_live_mode_not_allowed_by_default PASSED [ 50%]
tests/test_d98_4_live_key_guard.py::TestIsLiveModeAllowed::test_live_enabled_accepts_1_as_true PASSED [ 50%]
tests/test_d98_4_live_key_guard.py::TestIsLiveModeAllowed::test_live_enabled_accepts_yes_as_true PASSED [ 51%]
tests/test_d98_4_live_key_guard.py::TestGetLiveKeyGuardStatus::test_guard_status_returns_correct_info PASSED [ 51%]
tests/test_d98_4_live_key_guard.py::TestEdgeCases::test_case_insensitive_test_pattern_detection PASSED [ 52%]
tests/test_d98_4_live_key_guard.py::TestEdgeCases::test_numeric_only_key_not_flagged PASSED [ 53%]
tests/test_d98_4_live_key_guard.py::TestEdgeCases::test_alpha_only_key_not_flagged PASSED [ 53%]
tests/test_d98_4_live_key_guard.py::TestEdgeCases::test_mixed_alphanumeric_20_chars_flagged PASSED [ 54%]
tests/test_d98_4_live_key_guard.py::TestEdgeCases::test_validate_handles_all_none_keys PASSED [ 54%]
tests/test_d98_4_live_key_guard.py::TestDefenseInDepth::test_paper_mode_catches_accidental_live_key_copy PASSED [ 55%]
tests/test_d98_4_live_key_guard.py::TestDefenseInDepth::test_ci_pipeline_with_wrong_secrets_blocked PASSED [ 56%]
tests/test_d98_4_live_key_guard.py::TestDefenseInDepth::test_local_test_with_residual_live_env_blocked PASSED [ 56%]
tests/test_d98_4_live_key_guard.py::TestLiveKeyErrorMessage::test_error_message_contains_actionable_guidance PASSED [ 57%]
tests/test_d98_4_live_key_guard.py::TestLiveKeyErrorMessage::test_env_mismatch_error_has_clear_message PASSED [ 57%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_paper_mode_always_allowed PASSED [ 58%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_blocked_by_default PASSED [ 59%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_blocked_without_ack PASSED [ 59%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_blocked_with_wrong_ack PASSED [ 60%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_blocked_without_timestamp PASSED [ 60%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_blocked_with_invalid_timestamp PASSED [ 61%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_blocked_with_old_timestamp PASSED [ 62%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_blocked_without_max_notional PASSED [ 62%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_blocked_with_invalid_max_notional PASSED [ 63%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_blocked_with_too_small_notional PASSED [ 64%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_blocked_with_too_large_notional PASSED [ 64%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_live_mode_allowed_with_all_conditions PASSED [ 65%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_enforce_live_mode_safety_raises_on_fail PASSED [ 65%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_check_live_mode_safety_function PASSED [ 66%]
tests/test_d98_live_safety.py::TestLiveSafetyValidator::test_is_live_mode_armed_function PASSED [ 67%]
tests/test_d98_preflight.py::TestPreflightResult::test_result_initialization PASSED [ 67%]
tests/test_d98_preflight.py::TestPreflightResult::test_add_check_pass PASSED [ 68%]
tests/test_d98_preflight.py::TestPreflightResult::test_add_check_fail PASSED [ 68%]
tests/test_d98_preflight.py::TestPreflightResult::test_add_check_warn PASSED [ 69%]
tests/test_d98_preflight.py::TestPreflightResult::test_is_ready_all_pass PASSED [ 70%]
tests/test_d98_preflight.py::TestPreflightResult::test_is_ready_with_fail PASSED [ 70%]
tests/test_d98_preflight.py::TestPreflightResult::test_to_dict PASSED    [ 71%]
tests/test_d98_preflight.py::TestLivePreflightChecker::test_checker_initialization PASSED [ 71%]
tests/test_d98_preflight.py::TestLivePreflightChecker::test_check_environment_paper PASSED [ 72%]
tests/test_d98_preflight.py::TestLivePreflightChecker::test_check_environment_live PASSED [ 73%]
tests/test_d98_preflight.py::TestLivePreflightChecker::test_check_secrets_missing PASSED [ 73%]
tests/test_d98_preflight.py::TestLivePreflightChecker::test_check_database_connection_configured PASSED [ 74%]
tests/test_d98_preflight.py::TestLivePreflightChecker::test_check_database_connection_missing PASSED [ 75%]
tests/test_d98_preflight.py::TestLivePreflightChecker::test_check_exchange_health_dryrun PASSED [ 75%]
tests/test_d98_preflight.py::TestLivePreflightChecker::test_check_open_positions_dryrun PASSED [ 76%]
tests/test_d98_preflight.py::TestLivePreflightChecker::test_check_git_safety_no_env_live PASSED [ 76%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyEnforcement::test_preflight_sets_readonly_mode_to_true PASSED [ 77%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyEnforcement::test_preflight_blocks_create_order_calls PASSED [ 78%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyEnforcement::test_preflight_blocks_cancel_order_calls PASSED [ 78%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyEnforcement::test_preflight_allows_get_balance PASSED [ 79%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyEnforcement::test_preflight_allows_get_orderbook PASSED [ 79%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyEnforcement::test_preflight_allows_get_open_positions PASSED [ 80%]
tests/test_d98_preflight_readonly.py::TestPreflightOrderCallCounter::test_preflight_zero_order_calls_with_mocks PASSED [ 81%]
tests/test_d98_preflight_readonly.py::TestPreflightOrderCallCounter::test_preflight_readonly_prevents_accidental_orders PASSED [ 81%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyGuardIntegration::test_readonly_guard_check_passes_for_query_operations PASSED [ 82%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyGuardIntegration::test_readonly_guard_check_fails_for_trading_operations PASSED [ 82%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyGuardIntegration::test_readonly_mode_cannot_be_bypassed PASSED [ 83%]
tests/test_d98_preflight_readonly.py::TestPreflightFailConditions::test_fail_if_readonly_mode_is_false PASSED [ 84%]
tests/test_d98_preflight_readonly.py::TestPreflightFailConditions::test_pass_if_readonly_mode_is_true PASSED [ 84%]
tests/test_d98_preflight_readonly.py::TestPreflightFailConditions::test_trading_call_count_must_be_zero PASSED [ 85%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyGuardEdgeCases::test_readonly_guard_with_multiple_exchanges PASSED [ 85%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyGuardEdgeCases::test_readonly_guard_persists_across_function_calls PASSED [ 86%]
tests/test_d98_preflight_readonly.py::TestPreflightReadOnlyGuardEdgeCases::test_readonly_guard_error_is_catchable PASSED [ 87%]
tests/test_d98_readonly_guard.py::TestReadOnlyGuard::test_readonly_guard_initialization_default_true PASSED [ 87%]
tests/test_d98_readonly_guard.py::TestReadOnlyGuard::test_readonly_guard_initialization_explicit_true PASSED [ 88%]
tests/test_d98_readonly_guard.py::TestReadOnlyGuard::test_readonly_guard_initialization_false PASSED [ 89%]
tests/test_d98_readonly_guard.py::TestReadOnlyGuard::test_readonly_guard_check_readonly_blocks_when_enabled PASSED [ 89%]
tests/test_d98_readonly_guard.py::TestReadOnlyGuard::test_readonly_guard_check_readonly_allows_when_disabled PASSED [ 90%]
tests/test_d98_readonly_guard.py::TestReadOnlyGuard::test_readonly_guard_error_message_contains_operation_name PASSED [ 90%]
tests/test_d98_readonly_guard.py::TestEnforceReadonlyDecorator::test_decorator_blocks_when_readonly_enabled PASSED [ 91%]
tests/test_d98_readonly_guard.py::TestEnforceReadonlyDecorator::test_decorator_allows_when_readonly_disabled PASSED [ 92%]
tests/test_d98_readonly_guard.py::TestEnforceReadonlyDecorator::test_decorator_preserves_function_name PASSED [ 92%]
tests/test_d98_readonly_guard.py::TestPaperExchangeReadOnlyGuard::test_paper_exchange_create_order_blocked_when_readonly PASSED [ 93%]
tests/test_d98_readonly_guard.py::TestPaperExchangeReadOnlyGuard::test_paper_exchange_cancel_order_blocked_when_readonly PASSED [ 93%]
tests/test_d98_readonly_guard.py::TestPaperExchangeReadOnlyGuard::test_paper_exchange_create_order_allowed_when_not_readonly PASSED [ 94%]
tests/test_d98_readonly_guard.py::TestPaperExchangeReadOnlyGuard::test_paper_exchange_get_balance_always_allowed PASSED [ 95%]
tests/test_d98_readonly_guard.py::TestPaperExchangeReadOnlyGuard::test_paper_exchange_get_orderbook_always_allowed PASSED [ 95%]
tests/test_d98_readonly_guard.py::TestReadOnlyModeHelpers::test_is_readonly_mode_returns_true_when_enabled PASSED [ 96%]
tests/test_d98_readonly_guard.py::TestReadOnlyModeHelpers::test_is_readonly_mode_returns_false_when_disabled PASSED [ 96%]
tests/test_d98_readonly_guard.py::TestReadOnlyModeHelpers::test_set_readonly_mode_changes_global_state PASSED [ 97%]
tests/test_d98_readonly_guard.py::TestReadOnlyModeHelpers::test_get_readonly_guard_returns_singleton PASSED [ 98%]
tests/test_d98_readonly_guard.py::TestReadOnlyGuardFailClosed::test_invalid_env_value_treated_as_true PASSED [ 98%]
tests/test_d98_readonly_guard.py::TestReadOnlyGuardFailClosed::test_empty_env_value_treated_as_true PASSED [ 99%]
tests/test_d98_readonly_guard.py::TestReadOnlyGuardFailClosed::test_only_explicit_false_disables_readonly PASSED [100%]

============================== warnings summary ===============================
tests/test_d98_3_executor_guard.py::TestLiveExecutorReadOnlyGuard::test_live_executor_allows_when_readonly_false_dry_run_true
tests/test_d98_3_integration_zero_orders.py::TestLiveExecutorIntegrationZeroOrders::test_readonly_false_with_dry_run_safe_execution
  C:\work\XXX_ARBITRAGE_TRADING_BOT\arbitrage\execution\executor.py:1014: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    timestamp=datetime.utcnow(),

tests/test_d98_3_executor_guard.py::TestLiveExecutorReadOnlyGuard::test_live_executor_allows_when_readonly_false_dry_run_true
tests/test_d98_3_integration_zero_orders.py::TestLiveExecutorIntegrationZeroOrders::test_readonly_false_with_dry_run_safe_execution
  <string>:12: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
============== 164 passed, 2304 deselected, 4 warnings in 2.75s ===============
