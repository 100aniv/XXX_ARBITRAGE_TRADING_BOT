[pytest]
minversion = 6.0
addopts = -ra -q --strict-markers
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    live_api: marks tests that require live API access
    fx_api: marks tests that require FX API access
    isolated: marks tests requiring execution isolation (run separately)
    d50_metrics: marks D50 metrics server tests (async required)
    optional_ml: ML/torch 종속성 테스트 (환경 의존, Core에서 제외)
    optional_live: Live 환경 종속성 테스트 (환경 의존, Core에서 제외)
asyncio_mode = auto
filterwarnings =
    error::DeprecationWarning
    error::PendingDeprecationWarning
    ignore:The HMAC key is .* below the minimum recommended length of 32 bytes.*:Warning
    ignore::pytest.PytestUnraisableExceptionWarning
    ignore::ResourceWarning

# Core Regression 실행: python -m pytest -m "not optional_ml and not optional_live"
# Optional ML 실행: python -m pytest -m "optional_ml"
# Optional Live 실행: python -m pytest -m "optional_live"
