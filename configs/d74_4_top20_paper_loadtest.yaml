# D74-4: Top-20 Multi-Symbol PAPER Load Test Configuration
# Top-20 심볼 PAPER 캠페인 (10~15분) - 스케일링 성능 측정
#
# Purpose:
# - D74-3에서 안정화된 엔진을 Top-20으로 확장
# - Top-10 대비 2배 심볼에서의 성능 검증
# - CPU/Memory 사용량 측정
# - 스케일링 분석을 위한 기준 데이터 수집
#
# Key Differences from D74-2 (Top-10):
# - Symbol Count: 10 → 20
# - Duration: 10~15분 (동일)
# - Risk/Portfolio: D74-3 설정 재사용
# - NO 엔진 구조 변경 (DO NOT TOUCH)

# Environment
env: "development"

# Exchange Configuration (Paper Mode)
exchange:
  upbit_access_key: "paper_mock"
  upbit_secret_key: "paper_mock"
  binance_api_key: "paper_mock"
  binance_secret_key: "paper_mock"

# Database Configuration
database:
  postgres_host: "localhost"
  postgres_port: 5432
  postgres_dbname: "arbitrage_lite"
  postgres_user: "postgres"
  postgres_password: "postgres"
  redis_host: "localhost"
  redis_port: 6380  # arbitrage-redis 포트
  redis_db: 0

# Risk Configuration (D74-3 설정 재사용)
risk:
  max_notional_per_trade: 2000.0
  max_daily_loss: 10000.0
  max_open_trades: 1000  # D74-3: 확장된 값 유지

# Trading Configuration
trading:
  min_spread_bps: 40.0
  taker_fee_a_bps: 10.0
  taker_fee_b_bps: 10.0
  slippage_bps: 5.0
  close_on_spread_reversal: true

# Monitoring Configuration
monitoring:
  metrics_enabled: true
  metrics_interval_seconds: 60
  log_level: "INFO"

# Session Configuration
session:
  mode: "paper"
  data_source: "paper"
  max_runtime_seconds: 900  # 15분 (Top-20 로드테스트)
  loop_interval_ms: 100
  state_persistence_enabled: false
  snapshot_interval_seconds: 300

# D73-1: Symbol Universe Configuration
universe:
  mode: "TOP_N"
  top_n: 20  # Top-20 심볼
  base_quote: "USDT"
  blacklist: ["BUSDUSDT", "USDCUSDT", "TUSDUSDT", "USDPUSDT"]  # Stablecoin 제외
  min_24h_quote_volume: 0.0  # DummySource 사용

# D73-2: Engine Configuration
engine:
  mode: "multi"
  multi_symbol_enabled: true
  per_symbol_isolation: true

# D73-3: Multi-Symbol RiskGuard Configuration (D74-3 설정 재사용)
multi_symbol_risk_guard:
  # Global Guard
  max_total_exposure_usd: 20000.0
  max_daily_loss_usd: 5000.0
  emergency_stop_loss_usd: 10000.0
  
  # Portfolio Guard
  total_capital_usd: 20000.0
  max_symbol_allocation_pct: 0.40
  
  # Symbol Guard
  max_position_size_usd: 2000.0
  max_position_count: 3
  cooldown_seconds: 20.0
  max_symbol_daily_loss_usd: 1000.0
  circuit_breaker_loss_count: 5
  circuit_breaker_duration: 120.0

# D74-4 Specific Settings
d74_4_loadtest:
  campaign_duration_seconds: 900  # 15분
  symbol_count: 20
  purpose: "scalability_validation"
  enable_performance_metrics: true
  enable_cpu_memory_tracking: true
